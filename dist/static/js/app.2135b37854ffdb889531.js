webpackJsonp([17,15],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=n(170),u=o(a),s=n(188),i=o(s),r=n(14),f=o(r),c=n(260),p=o(c),d=n(142),l=o(d),m=n(187),h=o(m);u.default.use(h.default),u.default.use(p.default),f.default.ajaxSettings.crossDomain=!0,f.default.ajaxSettings.xhrFields={withCredentials:!0},window.sessionStorage.user?(l.default.dispatch("setUserInfo",JSON.parse(window.sessionStorage.user)),window.sessionStorage.shop&&l.default.dispatch("setShopInfo",JSON.parse(window.sessionStorage.shop))):window.sessionStorage.clear();var v=new p.default({mode:"history",routes:i.default,scrollBehavior:function(e,t,n){return{x:0,y:0}}});v.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?l.default.state.user_info.id?n():n({path:"/login",query:{redirect:e.fullPath}}):n()});var w=new u.default({router:v,store:l.default});w.$mount("#app")},142:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(170),u=o(a),s=n(67),i=o(s);u.default.use(i.default);var r=new i.default.Store({state:{user_info:{},shop_info:[]},getters:{getUserInfo:function(e){return e.user_info},getShopInfo:function(e){return e.shop_info}},mutations:{setUserInfo:function(e,t){e.user_info=t},setShopInfo:function(e,t){e.shop_info=t}},actions:{setUserInfo:function(e,t){var n=e.commit;n("setUserInfo",t)},setShopInfo:function(e,t){var n=e.commit;n("setShopInfo",t)}}});t.default=r},187:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(170),u=o(a),s=n(14),i=o(s);t.default={install:function(){var e=null,t=function(t){var n=(0,i.default)('<div class="message-alert"></div>');(0,i.default)("body").append(n),n.addClass("alert-show"),n.html(t),clearTimeout(e),(0,i.default)(".show-tip").remove(),e=setTimeout(function(){(0,i.default)(".alert-show").remove(),(0,i.default)(".show-tip").remove()},2e3)},n=function(t){var n=(0,i.default)('<div class="show-tip"></div>');(0,i.default)("body").append(n),n.html(t),clearTimeout(e),(0,i.default)(".alert-show").remove(),e=setTimeout(function(){(0,i.default)(".show-tip").remove(),(0,i.default)(".alert-show").remove()},2e3)};u.default.prototype.$errorHandler=function(e,n,o){try{var a=JSON.parse(e.responseText);t(a.message)}catch(e){t("抱歉, 出错了")}},u.default.prototype.$alert=t,u.default.prototype.$showTip=n}}},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){n.e(4,function(){e(n(177))})},a=function(e){n.e(0,function(){e(n(179))})},u={template:"<p>NotFound</p>"},s=[{path:"/",name:"home",component:o},{path:"/search/:search_words",name:"search",component:function(e){n.e(7,function(){e(n(182))})}},{path:"/login",name:"login",component:a},{path:"/updatepass",name:"updatepass",component:function(e){n.e(1,function(){e(n(184))})}},{path:"/resetpass",name:"resetpass",component:function(e){n.e(2,function(){e(n(181))})}},{path:"/signup",name:"signup",component:function(e){n.e(3,function(){e(n(183))})}},{path:"/items",name:"items",component:function(e){n.e(5,function(){e(n(178))})}},{path:"/items/:id/detail",name:"detail",component:function(e){n.e(6,function(){e(n(176))})}},{path:"/user",name:"user",component:function(e){n.e(8,function(){e(n(185))})},meta:{requiresAuth:!0}},{path:"/user/order",name:"order",component:function(e){n.e(10,function(){e(n(180))})}},{path:"/user/comment",name:"comment",component:function(e){n.e(9,function(){e(n(186))})},meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:function(e){n.e(11,function(){e(n(175))})},children:[{path:"user",component:function(e){n.e(12,function(){e(n(174))})}},{path:"comment",component:function(e){n.e(14,function(){e(n(172))})}},{path:"order",component:function(e){n.e(13,function(){e(n(173))})}}]},{path:"*",component:u}];t.default=s}});
//# sourceMappingURL=app.2135b37854ffdb889531.js.map