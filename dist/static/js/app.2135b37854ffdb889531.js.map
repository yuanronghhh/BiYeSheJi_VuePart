{"version":3,"sources":["webpack:///static/js/app.2135b37854ffdb889531.js","webpack:///./src/main.js","webpack:///./src/vuex/user.js","webpack:///./src/libs/alert.js","webpack:///./src/routers.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_routers","_routers2","_webpackZepto","_webpackZepto2","_vueRouter","_vueRouter2","_user","_user2","_alert","_alert2","use","ajaxSettings","crossDomain","xhrFields","withCredentials","window","sessionStorage","user","dispatch","JSON","parse","shop","clear","router","mode","routes","scrollBehavior","to","from","savedPosition","x","y","beforeEach","next","matched","some","record","meta","requiresAuth","state","user_info","id","path","query","redirect","fullPath","app","store","$mount","142","Object","defineProperty","value","_vuex","_vuex2","userStore","Store","shop_info","getters","getUserInfo","getShopInfo","mutations","setUserInfo","setShopInfo","actions","_ref","commit","_ref2","187","install","timer","messageAlert","msg","$alert","append","addClass","html","clearTimeout","remove","setTimeout","showTip","$tip","prototype","$errorHandler","xhr","dataType","error","data","responseText","message","e","$showTip","188","Home","resolve","Login","NotFound","template","routers","name","component","children"],"mappings":"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","file":"static/js/app.2135b37854ffdb889531.js","sourcesContent":["webpackJsonp([17,15],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(170);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _routers = __webpack_require__(188);\n\t\n\tvar _routers2 = _interopRequireDefault(_routers);\n\t\n\tvar _webpackZepto = __webpack_require__(14);\n\t\n\tvar _webpackZepto2 = _interopRequireDefault(_webpackZepto);\n\t\n\tvar _vueRouter = __webpack_require__(260);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\tvar _user = __webpack_require__(142);\n\t\n\tvar _user2 = _interopRequireDefault(_user);\n\t\n\tvar _alert = __webpack_require__(187);\n\t\n\tvar _alert2 = _interopRequireDefault(_alert);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_alert2.default);\n\t_vue2.default.use(_vueRouter2.default);\n\t\n\t_webpackZepto2.default.ajaxSettings.crossDomain = true;\n\t_webpackZepto2.default.ajaxSettings.xhrFields = { withCredentials: true };\n\t\n\tif (window.sessionStorage.user) {\n\t  _user2.default.dispatch('setUserInfo', JSON.parse(window.sessionStorage.user));\n\t\n\t  if (window.sessionStorage.shop) {\n\t    _user2.default.dispatch('setShopInfo', JSON.parse(window.sessionStorage.shop));\n\t  }\n\t} else {\n\t  window.sessionStorage.clear();\n\t}\n\t\n\tvar router = new _vueRouter2.default({\n\t  mode: 'history',\n\t  routes: _routers2.default,\n\t  scrollBehavior: function scrollBehavior(to, from, savedPosition) {\n\t    return { x: 0, y: 0 };\n\t  }\n\t});\n\t\n\trouter.beforeEach(function (to, from, next) {\n\t  if (to.matched.some(function (record) {\n\t    return record.meta.requiresAuth;\n\t  })) {\n\t    if (_user2.default.state.user_info.id) {\n\t      next();\n\t    } else {\n\t      next({\n\t        path: '/login',\n\t        query: { redirect: to.fullPath }\n\t      });\n\t    }\n\t  } else {\n\t    next();\n\t  }\n\t});\n\t\n\tvar app = new _vue2.default({\n\t  router: router,\n\t  store: _user2.default\n\t});\n\t\n\tapp.$mount('#app');\n\n/***/ },\n\n/***/ 142:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(170);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(67);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\t\n\tvar userStore = new _vuex2.default.Store({\n\t  state: {\n\t    user_info: {},\n\t    shop_info: []\n\t  },\n\t  getters: {\n\t    getUserInfo: function getUserInfo(state) {\n\t      return state.user_info;\n\t    },\n\t    getShopInfo: function getShopInfo(state) {\n\t      return state.shop_info;\n\t    }\n\t  },\n\t  mutations: {\n\t    setUserInfo: function setUserInfo(state, user_info) {\n\t      state.user_info = user_info;\n\t    },\n\t    setShopInfo: function setShopInfo(state, shop_info) {\n\t      state.shop_info = shop_info;\n\t    }\n\t  },\n\t  actions: {\n\t    setUserInfo: function setUserInfo(_ref, user_info) {\n\t      var commit = _ref.commit;\n\t\n\t      commit('setUserInfo', user_info);\n\t    },\n\t    setShopInfo: function setShopInfo(_ref2, shop_info) {\n\t      var commit = _ref2.commit;\n\t\n\t      commit(\"setShopInfo\", shop_info);\n\t    }\n\t  }\n\t});\n\t\n\texports.default = userStore;\n\n/***/ },\n\n/***/ 187:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(170);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _webpackZepto = __webpack_require__(14);\n\t\n\tvar _webpackZepto2 = _interopRequireDefault(_webpackZepto);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  install: function install() {\n\t    var timer = null;\n\t\n\t    var messageAlert = function messageAlert(msg) {\n\t      var $alert = (0, _webpackZepto2.default)('<div class=\"message-alert\"></div>');\n\t      (0, _webpackZepto2.default)('body').append($alert);\n\t      $alert.addClass(\"alert-show\");\n\t      $alert.html(msg);\n\t      clearTimeout(timer);\n\t\n\t      (0, _webpackZepto2.default)(\".show-tip\").remove();\n\t      timer = setTimeout(function () {\n\t        (0, _webpackZepto2.default)(\".alert-show\").remove();\n\t        (0, _webpackZepto2.default)(\".show-tip\").remove();\n\t      }, 2000);\n\t    };\n\t\n\t    var showTip = function showTip(msg) {\n\t      var $tip = (0, _webpackZepto2.default)('<div class=\"show-tip\"></div>');\n\t      (0, _webpackZepto2.default)('body').append($tip);\n\t      $tip.html(msg);\n\t      clearTimeout(timer);\n\t\n\t      (0, _webpackZepto2.default)(\".alert-show\").remove();\n\t      timer = setTimeout(function () {\n\t        (0, _webpackZepto2.default)(\".show-tip\").remove();\n\t        (0, _webpackZepto2.default)(\".alert-show\").remove();\n\t      }, 2000);\n\t    };\n\t\n\t    _vue2.default.prototype.$errorHandler = function (xhr, dataType, error) {\n\t      try {\n\t        var data = JSON.parse(xhr.responseText);\n\t        messageAlert(data.message);\n\t      } catch (e) {\n\t        messageAlert(\"抱歉, 出错了\");\n\t      }\n\t    };\n\t\n\t    _vue2.default.prototype.$alert = messageAlert;\n\t    _vue2.default.prototype.$showTip = showTip;\n\t  }\n\t};\n\n/***/ },\n\n/***/ 188:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar Home = function Home(resolve) {\n\t  __webpack_require__.e/* nsure */(4, function () {\n\t    resolve(__webpack_require__(177));\n\t  });\n\t};\n\t\n\tvar Login = function Login(resolve) {\n\t  __webpack_require__.e/* nsure */(0, function () {\n\t    resolve(__webpack_require__(179));\n\t  });\n\t};\n\t\n\tvar NotFound = { template: '<p>NotFound</p>' };\n\t\n\tvar routers = [{\n\t  path: '/',\n\t  name: 'home',\n\t  component: Home\n\t}, {\n\t  path: '/search/:search_words',\n\t  name: 'search',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(7, function () {\n\t      resolve(__webpack_require__(182));\n\t    });\n\t  }\n\t}, {\n\t  path: '/login',\n\t  name: 'login',\n\t  component: Login\n\t}, {\n\t  path: '/updatepass',\n\t  name: 'updatepass',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(1, function () {\n\t      resolve(__webpack_require__(184));\n\t    });\n\t  }\n\t}, {\n\t  path: '/resetpass',\n\t  name: 'resetpass',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(2, function () {\n\t      resolve(__webpack_require__(181));\n\t    });\n\t  }\n\t}, {\n\t  path: '/signup',\n\t  name: 'signup',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(3, function () {\n\t      resolve(__webpack_require__(183));\n\t    });\n\t  }\n\t}, {\n\t  path: '/items',\n\t  name: 'items',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(5, function () {\n\t      resolve(__webpack_require__(178));\n\t    });\n\t  }\n\t}, {\n\t  path: '/items/:id/detail',\n\t  name: 'detail',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(6, function () {\n\t      resolve(__webpack_require__(176));\n\t    });\n\t  }\n\t}, {\n\t  path: '/user',\n\t  name: 'user',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(8, function () {\n\t      resolve(__webpack_require__(185));\n\t    });\n\t  },\n\t\n\t  meta: { requiresAuth: true }\n\t}, {\n\t  path: '/user/order',\n\t  name: 'order',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(10, function () {\n\t      resolve(__webpack_require__(180));\n\t    });\n\t  }\n\t}, {\n\t  path: '/user/comment',\n\t  name: 'comment',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(9, function () {\n\t      resolve(__webpack_require__(186));\n\t    });\n\t  },\n\t\n\t  meta: { requiresAuth: true }\n\t}, {\n\t  path: '/admin',\n\t  name: 'admin',\n\t  component: function component(resolve) {\n\t    __webpack_require__.e/* nsure */(11, function () {\n\t      resolve(__webpack_require__(175));\n\t    });\n\t  },\n\t\n\t  children: [{\n\t    path: 'user',\n\t    component: function component(resolve) {\n\t      __webpack_require__.e/* nsure */(12, function () {\n\t        resolve(__webpack_require__(174));\n\t      });\n\t    }\n\t  }, {\n\t    path: 'comment',\n\t    component: function component(resolve) {\n\t      __webpack_require__.e/* nsure */(14, function () {\n\t        resolve(__webpack_require__(172));\n\t      });\n\t    }\n\t  }, {\n\t    path: 'order',\n\t    component: function component(resolve) {\n\t      __webpack_require__.e/* nsure */(13, function () {\n\t        resolve(__webpack_require__(173));\n\t      });\n\t    }\n\t  }]\n\t}, {\n\t  path: '*',\n\t  component: NotFound\n\t}];\n\t\n\texports.default = routers;\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/app.2135b37854ffdb889531.js","import Vue from 'vue';\nimport routes from './routers';\nimport $ from 'webpack-zepto';\nimport VueRouter from 'vue-router';\nimport store from './vuex/user';\nimport Alert from './libs/alert.js';\n\nVue.use(Alert);\nVue.use(VueRouter);\n\n$.ajaxSettings.crossDomain = true;\n$.ajaxSettings.xhrFields = { withCredentials: true }; // 发送带cookie\n\nif (window.sessionStorage.user) {\n  store.dispatch('setUserInfo', JSON.parse(window.sessionStorage.user));\n\n  if (window.sessionStorage.shop) {\n    store.dispatch('setShopInfo', JSON.parse(window.sessionStorage.shop));\n  }\n} else {\n  window.sessionStorage.clear();\n}\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes: routes,\n  // 跳转时scroll到顶部\n  scrollBehavior (to, from, savedPosition) {\n    return { x: 0, y: 0 };\n  }\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (store.state.user_info.id) {\n      next();\n    } else {\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      });\n    }\n  } else {\n    next();\n  }\n});\n\nconst app = new Vue({\n  router,\n  store\n});\n\napp.$mount('#app');\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\n\nconst userStore = new Vuex.Store({\n  state: {\n    user_info: {},\n    shop_info: []\n  },\n  getters: {\n    getUserInfo(state) {\n      return state.user_info;\n    },\n    getShopInfo(state) {\n      return state.shop_info;\n    }\n  },\n  mutations: {\n    setUserInfo(state, user_info) {\n      state.user_info = user_info;\n    },\n    setShopInfo(state, shop_info) {\n      state.shop_info = shop_info;\n    }\n  },\n  actions: {\n    setUserInfo({ commit }, user_info) {\n      commit('setUserInfo', user_info);\n    },\n    setShopInfo({ commit }, shop_info) {\n      commit(\"setShopInfo\", shop_info);\n    }\n  }\n});\n\nexport default userStore;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/user.js","import Vue from 'vue';\nimport $ from 'webpack-zepto';\n\nexport default {\n  install () {\n    let timer = null;\n\n    /**\n     * 通用alert\n     */\n    var messageAlert = (msg) => {\n      let $alert = $('<div class=\"message-alert\"></div>');\n      $('body').append($alert);\n      $alert.addClass(\"alert-show\");\n      $alert.html(msg);\n      clearTimeout(timer);\n\n      $(\".show-tip\").remove();\n      timer = setTimeout(() => {\n        $(\".alert-show\").remove();\n        $(\".show-tip\").remove();\n      }, 2000);\n    };\n\n    var showTip = (msg) => {\n      let $tip = $('<div class=\"show-tip\"></div>');\n      $('body').append($tip);\n      $tip.html(msg);\n      clearTimeout(timer);\n\n      $(\".alert-show\").remove();\n      timer = setTimeout(() => {\n        $(\".show-tip\").remove();\n        $(\".alert-show\").remove();\n      }, 2000);\n    };\n\n    Vue.prototype.$errorHandler = (xhr, dataType, error) => {\n      try {\n        var data = JSON.parse(xhr.responseText);\n        messageAlert(data.message);\n      } catch (e) {\n        messageAlert(\"抱歉, 出错了\");\n      }\n    };\n\n    Vue.prototype.$alert = messageAlert;\n    Vue.prototype.$showTip = showTip;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/alert.js","const Home = resolve => {\n  require.ensure(['./views/index.vue'], () => {\n    resolve(require('./views/index.vue'));\n  });\n};\n\nconst Login = resolve => {\n  require.ensure(['./views/login.vue'], () => {\n    resolve(require('./views/login.vue'));\n  });\n};\n\nconst NotFound = {template: '<p>NotFound</p>'};\n\nconst routers = [{\n  path: '/',\n  name: 'home',\n  component: Home\n},  {\n  path: '/search/:search_words',\n  name: 'search',\n  component (resolve) {\n    require.ensure([\"./views/search.vue\"], () => {\n      resolve(require('./views/search.vue'));\n    });\n  }\n}, {\n  path: '/login',\n  name: 'login',\n  component: Login\n}, {\n  path: '/updatepass',\n  name: 'updatepass',\n  component (resolve) {\n    require.ensure(['./views/updatepass.vue'], () => {\n      resolve(require('./views/updatepass.vue'));\n    });\n  }\n}, {\n  path: '/resetpass',\n  name: 'resetpass',\n  component (resolve) {\n    require.ensure(['./views/reset.vue'], () => {\n      resolve(require('./views/reset.vue'));\n    });\n  }\n}, {\n  path: '/signup',\n  name: 'signup',\n  component (resolve) {\n    require.ensure(['./views/signup.vue'], () => {\n      resolve(require('./views/signup.vue'));\n    });\n  }\n}, {\n  path: '/items',\n  name: 'items',\n  component (resolve) {\n    require.ensure(['./views/list.vue'], () => {\n      resolve(require('./views/list.vue'));\n    });\n  }\n}, {\n  path: '/items/:id/detail',\n  name: 'detail',\n  component (resolve) {\n    require.ensure(['./views/detail.vue'], () => {\n      resolve(require('./views/detail.vue'));\n    });\n  }\n}, {\n  path: '/user',\n  name: 'user',\n  component (resolve) {\n    require.ensure(['./views/user.vue'], () => {\n      resolve(require('./views/user.vue'));\n    });\n  },\n  meta: { requiresAuth: true }\n}, {\n  path: '/user/order',\n  name: 'order',\n  component (resolve) {\n    require.ensure(['./views/order.vue'], () => {\n      resolve(require('./views/order.vue'));\n    });\n  }\n}, {\n  path: '/user/comment',\n  name: 'comment',\n  component (resolve) {\n    require.ensure(['./views/user_comment.vue'], () => {\n      resolve(require('./views/user_comment.vue'));\n    });\n  },\n  meta: { requiresAuth: true }\n}, {\n  path: '/admin',\n  name: 'admin',\n  component (resolve) {\n    require.ensure([\"./views/admin.vue\"], () => {\n      resolve(require('./views/admin.vue'));\n    });\n  },\n  children: [{\n    path: 'user',\n    component (resolve) {\n      require.ensure([\"./components/user_table.vue\"], () => {\n        resolve(require('./components/user_table.vue'));\n      });\n    }\n  }, {\n    path: 'comment',\n    component (resolve) {\n      require.ensure([\"./components/comment_table.vue\"], () => {\n        resolve(require('./components/comment_table.vue'));\n      });\n    }\n  }, {\n    path: 'order',\n    component (resolve) {\n      require.ensure([\"./components/order_table.vue\"], () => {\n        resolve(require('./components/order_table.vue'));\n      });\n    }\n  }]\n}, {\n  path: '*',\n  component: NotFound\n}];\n\nexport default routers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/routers.js"],"sourceRoot":""}