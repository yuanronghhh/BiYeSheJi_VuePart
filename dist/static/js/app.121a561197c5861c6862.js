webpackJsonp([14,12],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=n(159),u=o(a),s=n(173),i=o(s),r=n(14),f=o(r),c=n(243),d=o(c),l=n(132),p=o(l),m=n(172),h=o(m);u.default.use(h.default),u.default.use(d.default),f.default.ajaxSettings.crossDomain=!0,f.default.ajaxSettings.xhrFields={withCredentials:!0},window.sessionStorage.user?(p.default.dispatch("setUserInfo",JSON.parse(window.sessionStorage.user)),window.sessionStorage.shop&&p.default.dispatch("setShopInfo",JSON.parse(window.sessionStorage.shop))):window.sessionStorage.clear();var v=new d.default({mode:"history",routes:i.default,scrollBehavior:function(e,t,n){return{x:0,y:0}}});v.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?p.default.state.user_info.id?n():n({path:"/login",query:{redirect:e.fullPath}}):n()});var w=new u.default({router:v,store:p.default});w.$mount("#app")},132:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(159),u=o(a),s=n(65),i=o(s);u.default.use(i.default);var r=new i.default.Store({state:{user_info:{},shop_info:[]},getters:{getUserInfo:function(e){return e.user_info},getShopInfo:function(e){return e.shop_info}},mutations:{setUserInfo:function(e,t){e.user_info=t},setShopInfo:function(e,t){e.shop_info=t}},actions:{setUserInfo:function(e,t){var n=e.commit;n("setUserInfo",t)},setShopInfo:function(e,t){var n=e.commit;n("setShopInfo",t)}}});t.default=r},172:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(159),u=o(a),s=n(14),i=o(s);t.default={install:function(){var e=null,t=function(t){var n=(0,i.default)('<div class="message-alert"></div>');(0,i.default)("body").append(n),n.addClass("alert-show"),n.html(t),clearTimeout(e),(0,i.default)(".show-tip").remove(),e=setTimeout(function(){(0,i.default)(".alert-show").remove(),(0,i.default)(".show-tip").remove()},2e3)},n=function(t){var n=(0,i.default)('<div class="show-tip"></div>');(0,i.default)("body").append(n),n.html(t),clearTimeout(e),(0,i.default)(".alert-show").remove(),e=setTimeout(function(){(0,i.default)(".show-tip").remove(),(0,i.default)(".alert-show").remove()},2e3)};u.default.prototype.$errorHandler=function(e,n,o){try{var a=JSON.parse(e.responseText);t(a.message)}catch(e){t("失败")}},u.default.prototype.$alert=t,u.default.prototype.$showTip=n}}},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){n.e(4,function(){e(n(163))})},a=function(e){n.e(0,function(){e(n(165))})},u={template:"<p>NotFound</p>"},s=[{path:"/",name:"home",component:o},{path:"/search/:search_words",name:"search",component:function(e){n.e(6,function(){e(n(167))})}},{path:"/login",name:"login",component:a},{path:"/updatepass",name:"updatepass",component:function(e){n.e(1,function(){e(n(169))})}},{path:"/resetpass",name:"resetpass",component:function(e){n.e(2,function(){e(n(166))})}},{path:"/signup",name:"signup",component:function(e){n.e(3,function(){e(n(168))})}},{path:"/items",name:"items",component:function(e){n.e(8,function(){e(n(164))})}},{path:"/items/:id/detail",name:"detail",component:function(e){n.e(5,function(){e(n(162))})}},{path:"/user",name:"user",component:function(e){n.e(7,function(){e(n(170))})},meta:{requiresAuth:!0}},{path:"/user/comment",name:"user_info",component:function(e){n.e(9,function(){e(n(171))})},meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:function(e){n.e(10,function(){e(n(161))})},children:[{path:"/admin/:info",component:function(e){n.e(11,function(){e(n(160))})}}]},{path:"*",component:u}];t.default=s}});
//# sourceMappingURL=app.121a561197c5861c6862.js.map